{
  "permissions": {
    "allow": [
      "Bash(dir:*)",
      "Bash(claude auth logout:*)",
      "Bash(npx vite build:*)",
      "Bash(npx vite:*)",
      "Bash(claude logout:*)",
      "Bash(clear:*)",
      "Bash(\"src/components/modals/ReassignModal.jsx\" << 'EOF'\nimport React, { useState, useEffect } from 'react';\nimport { RefreshCw, X, Package as PackageIcon, MapPin, Car } from 'lucide-react';\nimport { StatusBadge } from '../ui';\nimport { terminalsData, driversData } from '../../constants/mockData';\n\nexport const ReassignModal = \\({ isOpen, onClose, pkg, theme, addToast }\\) => {\n  const [reassignType, setReassignType] = useState\\('terminal'\\);\n  const [selectedTerminal, setSelectedTerminal] = useState\\(''\\);\n  const [selectedDriver, setSelectedDriver] = useState\\(''\\);\n  const [reason, setReason] = useState\\(''\\);\n  const [priority, setPriority] = useState\\('normal'\\);\n\n  useEffect\\(\\(\\) => {\n    if \\(isOpen && pkg\\) {\n      setReassignType\\('terminal'\\);\n      setSelectedTerminal\\(''\\);\n      setSelectedDriver\\(''\\);\n      setReason\\(''\\);\n      setPriority\\('normal'\\);\n    }\n  }, [isOpen, pkg]\\);\n\n  if \\(!isOpen || !pkg\\) return null;\n\n  const handleSubmit = \\(\\) => {\n    if \\(reassignType === 'terminal' && !selectedTerminal\\) {\n      addToast\\({ type: 'warning', message: 'Please select a destination terminal' }\\);\n      return;\n    }\n    if \\(reassignType === 'driver' && !selectedDriver\\) {\n      addToast\\({ type: 'warning', message: 'Please select a driver' }\\);\n      return;\n    }\n    const target = reassignType === 'terminal' ? selectedTerminal : selectedDriver;\n    addToast\\({ type: 'success', message: `${pkg.waybill} reassigned to ${target}` }\\);\n    onClose\\(\\);\n  };\n\n  return \\(\n    <div className=\"fixed inset-0 z-50 flex items-center justify-center\" onClick={onClose}>\n      <div className=\"absolute inset-0 bg-black/50\" />\n      <div\n        className=\"relative w-full max-w-lg rounded-2xl border p-6\"\n        style={{ backgroundColor: theme.bg.card, borderColor: theme.border.primary }}\n        onClick={e => e.stopPropagation\\(\\)}\n      >\n        <div className=\"flex items-center justify-between mb-6\">\n          <h2 className=\"text-lg font-semibold flex items-center gap-2\" style={{ color: theme.text.primary }}>\n            <RefreshCw size={20} className=\"text-amber-500\" /> Reassign Package\n          </h2>\n          <button onClick={onClose} className=\"p-1.5 rounded-lg hover:bg-white/5\" style={{ color: theme.text.muted }}>\n            <X size={18} />\n          </button>\n        </div>\n\n        <div className=\"p-3 rounded-xl border mb-5 flex items-center gap-3\" style={{ backgroundColor: theme.bg.tertiary, borderColor: theme.border.primary }}>\n          <div className=\"p-2 rounded-lg\" style={{ backgroundColor: theme.accent.light }}>\n            <PackageIcon size={18} style={{ color: theme.accent.primary }} />\n          </div>\n          <div className=\"flex-1\">\n            <p className=\"font-mono text-sm font-medium\" style={{ color: theme.accent.primary }}>{pkg.waybill}</p>\n            <p className=\"text-xs\" style={{ color: theme.text.muted }}>{pkg.customer} · {pkg.destination}</p>\n          </div>\n          <StatusBadge status={pkg.status} />\n        </div>\n\n        <div className=\"space-y-4\">\n          <div>\n            <label className=\"text-sm mb-2 block\" style={{ color: theme.text.muted }}>Reassign To</label>\n            <div className=\"flex gap-2\">\n              {[['terminal', 'Terminal', MapPin], ['driver', 'Driver', Car]].map\\(\\([k, l, Icon]\\) => \\(\n                <button\n                  key={k}\n                  onClick={\\(\\) => setReassignType\\(k\\)}\n                  className=\"flex-1 flex items-center justify-center gap-2 py-2.5 rounded-xl text-sm\"\n                  style={{\n                    backgroundColor: reassignType === k ? theme.accent.light : theme.bg.tertiary,\n                    color: reassignType === k ? theme.accent.primary : theme.text.secondary,\n                    border: reassignType === k ? `1px solid ${theme.accent.border}` : `1px solid ${theme.border.primary}`\n                  }}\n                >\n                  <Icon size={16} /> {l}\n                </button>\n              \\)\\)}\n            </div>\n          </div>\n\n          {reassignType === 'terminal' && \\(\n            <div>\n              <label className=\"text-sm mb-2 block\" style={{ color: theme.text.muted }}>Destination Terminal</label>\n              <select\n                value={selectedTerminal}\n                onChange={e => setSelectedTerminal\\(e.target.value\\)}\n                className=\"w-full px-3 py-2.5 rounded-xl border text-sm\"\n                style={{ backgroundColor: theme.bg.tertiary, borderColor: theme.border.primary, color: theme.text.primary }}\n              >\n                <option value=\"\">Select terminal...</option>\n                {terminalsData.filter\\(t => t.name !== pkg.destination\\).map\\(t => \\(\n                  <option key={t.id} value={t.name}>{t.name} — {t.available} lockers available</option>\n                \\)\\)}\n              </select>\n            </div>\n          \\)}\n\n          {reassignType === 'driver' && \\(\n            <div>\n              <label className=\"text-sm mb-2 block\" style={{ color: theme.text.muted }}>Assign Driver</label>\n              <select\n                value={selectedDriver}\n                onChange={e => setSelectedDriver\\(e.target.value\\)}\n                className=\"w-full px-3 py-2.5 rounded-xl border text-sm\"\n                style={{ backgroundColor: theme.bg.tertiary, borderColor: theme.border.primary, color: theme.text.primary }}\n              >\n                <option value=\"\">Select driver...</option>\n                {driversData.filter\\(d => d.status !== 'offline'\\).map\\(d => \\(\n                  <option key={d.id} value={d.name}>{d.name} — {d.zone} \\({d.status}\\)</option>\n                \\)\\)}\n              </select>\n            </div>\n          \\)}\n\n          <div>\n            <label className=\"text-sm mb-2 block\" style={{ color: theme.text.muted }}>Priority</label>\n            <div className=\"flex gap-2\">\n              {[['normal', 'Normal', '#6b7280'], ['high', 'High', '#f59e0b'], ['urgent', 'Urgent', '#ef4444']].map\\(\\([k, l, c]\\) => \\(\n                <button\n                  key={k}\n                  onClick={\\(\\) => setPriority\\(k\\)}\n                  className=\"flex-1 py-2 rounded-xl text-sm\"\n                  style={{\n                    backgroundColor: priority === k ? c + '15' : theme.bg.tertiary,\n                    color: priority === k ? c : theme.text.secondary,\n                    border: priority === k ? `1px solid ${c}30` : `1px solid ${theme.border.primary}`\n                  }}\n                >\n                  {l}\n                </button>\n              \\)\\)}\n            </div>\n          </div>\n\n          <div>\n            <label className=\"text-sm mb-2 block\" style={{ color: theme.text.muted }}>Reason</label>\n            <textarea\n              value={reason}\n              onChange={e => setReason\\(e.target.value\\)}\n              rows={2}\n              placeholder=\"Why is this package being reassigned?\"\n              className=\"w-full px-3 py-2.5 rounded-xl border text-sm resize-none\"\n              style={{ backgroundColor: theme.bg.tertiary, borderColor: theme.border.primary, color: theme.text.primary }}\n            />\n          </div>\n        </div>\n\n        <div className=\"flex gap-3 mt-6\">\n          <button\n            onClick={onClose}\n            className=\"flex-1 py-2.5 rounded-xl border text-sm\"\n            style={{ borderColor: theme.border.primary, color: theme.text.secondary }}\n          >\n            Cancel\n          </button>\n          <button\n            onClick={handleSubmit}\n            className=\"flex-1 py-2.5 rounded-xl text-white text-sm flex items-center justify-center gap-2\"\n            style={{ backgroundColor: '#f59e0b' }}\n          >\n            <RefreshCw size={16} /> Reassign Package\n          </button>\n        </div>\n      </div>\n    </div>\n  \\);\n};\nEOF)",
      "Bash(python3:*)",
      "Bash(npx prettier:*)",
      "Bash(ls:*)",
      "Bash(npm run build:*)",
      "Bash(python:*)",
      "Bash(npm run dev:*)",
      "Bash(git init:*)",
      "Bash(git add:*)",
      "Bash(git commit:*)",
      "Bash(git remote add:*)",
      "Bash(git branch:*)",
      "Bash(git push:*)",
      "Bash(gh repo set-default:*)",
      "Bash(for page in \"portal\" \"selfservice\" \"analytics\" \"audit\" \"settings\")",
      "Bash(do echo \"=== $page ===\")",
      "Bash(done)"
    ]
  }
}
